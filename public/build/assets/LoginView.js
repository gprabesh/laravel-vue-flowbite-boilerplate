import{t as p,a4 as _,o as f,c as w,w as o,a5 as b,a as e,j as y,q as g,y as V,z as $,d as k,A as n,u as m,B as L,L as h,a6 as S}from"./main.js";import{L as U,_ as v}from"./LayoutGuest.js";import{_ as u,a as x}from"./FormField.js";const q={__name:"LoginView",setup(P){const a=p({email:"user@localhost.com",password:"password",remember:!0}),i=b(),r=_(),d=async()=>{try{await axios.post("/login",a),await r.fetchUser(),i.push({name:"journal-voucher",query:{account_book_id:r.user.account_book_id,company_id:r.user.company_id}})}catch(t){console.log(t),S.fire("Failed to login. Something went wrong")}};return(t,s)=>(f(),w(U,null,{default:o(()=>[e(v,{bg:"purplePink"},{default:o(({cardClass:c})=>[e(y,{class:g(c),"is-form":"",onSubmit:V(d,["prevent"])},{footer:o(()=>[e($,null,{default:o(()=>[e(k,{type:"submit",color:"info",label:"Login"})]),_:1})]),default:o(()=>[e(u,{label:"Login",help:"Please enter your login"},{default:o(()=>[e(n,{modelValue:a.email,"onUpdate:modelValue":s[0]||(s[0]=l=>a.email=l),icon:m(L),name:"login",type:"email",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),e(u,{label:"Password",help:"Please enter your password"},{default:o(()=>[e(n,{modelValue:a.password,"onUpdate:modelValue":s[1]||(s[1]=l=>a.password=l),icon:m(h),type:"password",name:"password",autocomplete:"password"},null,8,["modelValue","icon"])]),_:1}),e(x,{modelValue:a.remember,"onUpdate:modelValue":s[2]||(s[2]=l=>a.remember=l),name:"remember",label:"Remember me","input-value":!0},null,8,["modelValue"])]),_:2},1032,["class"])]),_:1})]),_:1}))}};export{q as default};
