import{B as p,a2 as _,o as f,c as w,w as o,a3 as b,a as e,j as g,v as y,D as V,E as $,d as k,F as m,u as n,G as L,L as h,a4 as v}from"./main.js";import{L as S,_ as U}from"./LayoutGuest.js";import{_ as x}from"./FormCheckRadio.js";import{_ as i}from"./FormField.js";const F={__name:"LoginView",setup(P){const a=p({email:"user@localhost.com",password:"password",remember:!0}),u=b(),r=_(),d=async()=>{try{await axios.post("/login",a),await r.fetchUser(),u.push({name:"journal-voucher",query:{account_book_id:r.user.account_book_id,company_id:r.user.company_id}})}catch(t){console.log(t),v.fire("Failed to login. Something went wrong")}};return(t,s)=>(f(),w(S,null,{default:o(()=>[e(U,{bg:"purplePink"},{default:o(({cardClass:c})=>[e(g,{class:y(c),"is-form":"",onSubmit:V(d,["prevent"])},{footer:o(()=>[e($,null,{default:o(()=>[e(k,{type:"submit",color:"info",label:"Login"})]),_:1})]),default:o(()=>[e(i,{label:"Login",help:"Please enter your login"},{default:o(()=>[e(m,{modelValue:a.email,"onUpdate:modelValue":s[0]||(s[0]=l=>a.email=l),icon:n(L),name:"login",type:"email",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),e(i,{label:"Password",help:"Please enter your password"},{default:o(()=>[e(m,{modelValue:a.password,"onUpdate:modelValue":s[1]||(s[1]=l=>a.password=l),icon:n(h),type:"password",name:"password",autocomplete:"password"},null,8,["modelValue","icon"])]),_:1}),e(x,{modelValue:a.remember,"onUpdate:modelValue":s[2]||(s[2]=l=>a.remember=l),name:"remember",label:"Remember me","input-value":!0},null,8,["modelValue"])]),_:2},1032,["class"])]),_:1})]),_:1}))}};export{F as default};
